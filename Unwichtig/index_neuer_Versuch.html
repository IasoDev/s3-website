<!DOCTYPE html>
<html>
<head>
	<style>
table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
}

td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
}

tr:nth-child(even) {
    background-color: #dddddd;
}
</style>
</head>
<body style="text-align:center">
	<h1>Request Information</h1>
    
<div id="example-table"></div>

<script type="text/javascript" src="jquery.min.js"></script>
<script type="text/javascript" src="jquery-ui.min.js"></script> 
<link href="dist/css/tabulator.min.css" rel="stylesheet">
<script type="text/javascript" src="dist/js/tabulator.min.js"></script> 
<script type="text/javascript" src="jquery.miranda.min.js"></script>   
<script>

var createCORSRequest = function(method, url) {
	var xhr = new XMLHttpRequest();
	if ("withCredentials" in xhr) {
		// Most browsers.
		xhr.open(method, url, true);
	} else if (typeof XDomainRequest != "undefined") {
		// IE8 & IE9
		xhr = new XDomainRequest();
		xhr.open(method, url);
	} else {
		// CORS not supported.
		xhr = null;
	}
	return xhr;
};


var loadXMLDoc = function(autoRefresh){
	var width = 600,
    	barHeight = 50,
		padding = 60;
	
	var url = 'data.json';
	var method = 'GET';
	var xhr = createCORSRequest(method, url);

	xhr.onload = function(req) {	  
		  var data = JSON.parse(this.responseText).Items;
		  
	//create Tabulator on DOM element with id "example-table"
    $("#example-table").tabulator({
    height:205, // set height of table, this enables the Virtual DOM and improves render speed dramatically (can be any valid css height value)
    layout:"fitColumns", //fit columns to width of table (optional)
    columns:[ //Define Table Columns
        {title:"Prioritaet", field:"prioritaet", sorter:"prioritaet", width:150},
        {title:"Anfrageinhalt", field:"anfrageinhalt",headerSort:false},
        {title:"Raumnummer", field:"raumnummer",headerSort:false},
        {title:"Name", field:"name",headerSort:false},
        {title:"Zeitpunkt der Anfrage", field:"zeitpunkt",headerSort:false},
        
    ],
   // rowClick:function(e, row){ //trigger an alert message when the row is clicked
    //    alert("Row " + row.getData().id + " Clicked!!!!");
    //},
});
    //load sample data into the table
    $("#example-table").tabulator("setData", data);             
};    
        

    
   // rowClick:function(e, row){ //trigger an alert message when the row is clicked
    //    alert("Row " + row.getData().id + " Clicked!!!!");
    //},
});

xhr.onerror = function() {
	  // Error code goes here.
	};

  	xhr.send();
	
	//AutoRefresh
	if(autoRefresh){
		window.setTimeout(loadXMLDoc, 3000, true);
}

loadXMLDoc(true);    


//define some sample data
//var tabledata = [
 //   {id:1, name:"Oli Bob", age:"12", col:"red", dob:""},
   // {id:2, name:"Mary May", age:"1", col:"blue", dob:"14/05/1982"},
  //  {id:3, name:"Christine Lobowski", age:"42", col:"green", dob:"22/05/1982"},
   // {id:4, name:"Brendon Philips", age:"125", col:"orange", dob:"01/08/1980"},
   // {id:5, name:"Margret Marmajuke", age:"16", col:"yellow", dob:"31/01/1999"},
    //{id:5, name:"Sonja Goerlich", age:"16", col:"yellow", dob:"31/01/1999"},
//];


</script>
</body>
</html>